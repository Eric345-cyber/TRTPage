<!DOCTYPE html>
<html>
<head>
    <title>TRT Rewards</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
</head>
<body>
    <h1>TRT Rewards</h1>
    <button onclick="connect()">Connect</button>
    <button onclick="activate()">Activate</button>
    <button onclick="claim()">Claim</button>
    <div id="status"></div>

    <script>
        let web3, user, contract;
        const address = "0x0b9F19fB383C7570504Aa3Ecb539f79226F42358";
        const abi = [{inputs:[],name:'activate',outputs:[],type:'function'},{inputs:[],name:'claim',outputs:[],type:'function'}];

        async function connect() {
            web3 = new Web3(window.ethereum);
            await window.ethereum.request({method: 'eth_requestAccounts'});
            user = (await web3.eth.getAccounts())[0];
            contract = new web3.eth.Contract(abi, address);
            document.getElementById('status').innerHTML = "Connected: " + user;
        }

        async function activate() {
            await contract.methods.activate().send({from: user});
            document.getElementById('status').innerHTML = "Activated! Wait 1 min.";
        }

        async function claim() {
            await contract.methods.claim().send({from: user});
            document.getElementById('status').innerHTML = "Claimed!";
        }
    </script>
</body>
</html>